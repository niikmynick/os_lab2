ОС Лабораторная работа №2

Реализация блочного кэша в пространстве пользователя

---

Задание:

Реализовать блочный кэш в пространстве пользователя:
- Политика вытеснения страниц -- LFU (Least Frequently Used);
- Операции с диском разработанного блочного кеша производить в обход page cache используемой ОС;
- Адаптировать программу-нагрузчик из ЛР 1 для использования кэша;
- Сравнить производительность до и после внедрения кэша.

---

Реализация блочного кэша

Основные компоненты:
- lab2_open -- открывает файл и создает структуру `file_cache` для управления кэшем; 
- lab2_read -- выполняет чтение данных с использованием кэша. Если данные отсутствуют в кэше, они загружаются с диска;
- lab2_write -- записывает данные в кэш, помечая блок `dirty` (требует записи на диск);
- lab2_fsync -- синхронизирует все `dirty` блоки с диском.;
- lab2_close -- завершает работу с кэшем, сбрасывая все `dirty` блоки и освобождая память;
- lfu_cache_evict -- отвечает за вытеснение блока, использующегося наименее часто.

Адаптация программы-загрузчика:
- Оригинальная программа использует функции `fread`, `fseek` и `fwrite` для прямой работы с файлом;
- Адаптированная программа использует вызовы функций кэша, таких как `lab2_read` и `lab2_write`.

---

Заключение:

В рамках лабораторной работы был реализован блочный кэш в пространстве пользователя, поддерживающий основные операции ввода-вывода: чтение, запись, синхронизацию данных и управление указателем. 
Реализация кэша с политикой вытеснения LFU позволила оптимизировать производительность программы-загрузчика, что подтверждается экспериментальными данными.

1. Использование кэша уменьшает количество операций с диском
2. При увеличении размера файла эффект от использования кэша становится более заметным
3. Реализация блочного кэша позволяет эффективно использовать ресурсы оперативной памяти
